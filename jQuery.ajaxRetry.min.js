/*! jQuery.ajaxRetry v0.1.3 | (c) 2013 Daniel Herman | opensource.org/licenses/MIT */
(function(e){"use strict";function t(e){return e.state?"pending"!==e.state():e.isResolved()||e.isRejected()}var n="__RETRY__"+(new Date).getTime();e.ajaxPrefilter(function(o,r,s){if(!o[n]&&void 0!==o.shouldRetry){r[n]=!0;var i,u,a=e.Deferred(),c=e.Deferred(),f={},d=0,h=function(t,n,r){var s,i=o.shouldRetry,u=typeof i;switch(u){case"number":s=i>n;break;case"boolean":s=i;break;case"function":s=i(t,n,r)}return e.when(s)};i=e.extend({},r,{success:e.noop,error:e.noop,complete:e.noop,statusCode:{}}),function l(t,n,o){(n?h(n,d++,t.type||"GET"):e.when(!0)).done(function(r){r===!0?(n?e.ajax(t):s).then(function(e,t,n){u=n.status,a.resolveWith(this,arguments),a.done(f[u]),c.resolveWith(this,[n,t])},function(e,n){var o=arguments,r=this;l(t,e,function(){u=e.status,a.rejectWith(r,o),a.fail(f[u]),c.resolveWith(r,[e,n])})}):o()})}(i),s.complete&&(s.complete=c.done,s.success=a.done,s.error=a.fail),e.extend(s,a.promise()),s.statusCode=function(e){var n;if(e)if(t(a))a.then(e[u],e[u]);else for(n in e)f[n]=[f[n],e[n]];return this}}})})(jQuery);